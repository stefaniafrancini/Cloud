<div *ngIf="loading" class="loading">Cargando carpeta...</div>

<div *ngIf="!loading" class="folder-view">
  <!-- PRNDAS -->
  <section class="row">
    <header class="row-head">
      <h3 class="title">Prendas</h3>
      <div class="arrows">
        <button class="nav" (click)="scroll(garmentsRail, -1)" [attr.aria-label]="'Anterior prendas'">‹</button>
        <button class="nav" (click)="scroll(garmentsRail, 1)" [attr.aria-label]="'Siguiente prendas'">›</button>
      </div>
    </header>

    <div *ngIf="folder.garments.length === 0" class="empty">No hay prendas.</div>

    <div
      #garmentsRail
      class="rail"
      [class.center]="folder.garments.length < 5"
    >
      <article class="card garment-card" *ngFor="let g of folder.garments">
        <div class="thumb">
          <img [src]="g.image" [alt]="'Imagen de ' + (g.name || 'prenda')" />
        </div>
        <div class="meta">
          <h4 class="name">{{ g.name }}</h4>
          <p class="sub">{{ g.category }} • {{ g.color }}</p>
        </div>
      </article>
    </div>
  </section>

  <!-- OUTFITS -->
  <section class="row">
    <header class="row-head">
      <h3 class="title">Outfits</h3>
      <div class="arrows">
        <button class="nav" (click)="scroll(outfitsRail, -1)" [attr.aria-label]="'Anterior outfits'">‹</button>
        <button class="nav" (click)="scroll(outfitsRail, 1)" [attr.aria-label]="'Siguiente outfits'">›</button>
      </div>
    </header>

    <div *ngIf="folder.outfits.length === 0" class="empty">No hay outfits.</div>

    <div
      #outfitsRail
      class="rail"
      [class.center]="folder.outfits.length < 5"
    >
      <article class="card outfit-card" *ngFor="let o of folder.outfits">
        <div class="thumb">
          <img *ngIf="o.image" [src]="o.image" [alt]="'Imagen de ' + (o.name || 'outfit')" />
          <div *ngIf="!o.image" class="noimg">Sin imagen</div>
        </div>
        <div class="meta">
          <h4 class="name">{{ o.name }}</h4>
          <p class="sub">{{ o.garments.length }} prendas</p>
        </div>
      </article>
    </div>
  </section>
</div>
